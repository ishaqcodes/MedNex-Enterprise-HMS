<div class="dashboard-wrapper">
  
  <header class="hero-header">
    <div class="hero-content">
      <div class="breadcrumb">
        <span>Admin Portal</span> <mat-icon>chevron_right</mat-icon> <span>Overview</span>
      </div>
      <h1>Welcome back, Ishaq! ðŸ‘‹</h1>
      <p>Here's what's happening in your hospital today.</p>
    </div>
    <div class="hero-actions">
      <button mat-flat-button class="action-btn-primary" (click)="openAddStaffDialog()">
        <mat-icon>add</mat-icon> Add Staff Member
      </button>
      <button mat-stroked-button class="action-btn-secondary">
        <mat-icon>download</mat-icon> Reports
      </button>
    </div>
  </header>

  <div class="content-body">
    
    <div class="stats-container">
      <mat-card class="kpi-card">
        <div class="kpi-icon blue-gradient"><mat-icon>groups</mat-icon></div>
        <div class="kpi-data">
          <h3>Total Staff</h3>
          <span class="count">{{ staffList.length }}</span>
          <span class="trend up"><mat-icon>trending_up</mat-icon> +12% this month</span>
        </div>
      </mat-card>

      <mat-card class="kpi-card">
        <div class="kpi-icon green-gradient"><mat-icon>monitor_heart</mat-icon></div>
        <div class="kpi-data">
          <h3>System Health</h3>
          <span class="count">98.4%</span>
          <span class="trend stable">All Systems Operational</span>
        </div>
      </mat-card>

      <mat-card class="kpi-card">
        <div class="kpi-icon purple-gradient"><mat-icon>medication</mat-icon></div>
        <div class="kpi-data">
          <h3>Inventory</h3>
          <span class="count">Stable</span>
          <span class="trend down"><mat-icon>warning</mat-icon> 2 Items Low</span>
        </div>
      </mat-card>
    </div>

    <div class="table-wrapper mat-elevation-z4">
      <div class="table-header">
        <h3>Employee Directory</h3>
        <div class="table-filters">
           <mat-icon>search</mat-icon>
           <input type="text" placeholder="Search employees..." />
        </div>
      </div>

      <table mat-table [dataSource]="staffList">
        
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Employee </th>
          <td mat-cell *matCellDef="let element">
            <div class="user-profile">
              <div class="avatar">{{ element.name.charAt(0) }}</div>
              <div class="details">
                <span class="name">{{ element.name }}</span>
                <span class="email">{{ element.email }}</span>
              </div>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef> Role </th>
          <td mat-cell *matCellDef="let element">
            <span class="badge" [ngClass]="element.role.toLowerCase()">
              {{ element.role }}
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="dept">
          <th mat-header-cell *matHeaderCellDef> Department </th>
          <td mat-cell *matCellDef="let element" class="dept-text"> 
            {{ element.dept }} 
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let element">
            <div class="status-indicator" [class.active]="element.status === 'Active'">
              <span class="dot"></span> {{ element.status }}
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button color="primary" matTooltip="Edit"><mat-icon>edit</mat-icon></button>
            <button mat-icon-button color="warn" matTooltip="Delete" (click)="deleteStaff(element.id)"><mat-icon>delete</mat-icon></button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="table-row"></tr>
      </table>
    </div>

  </div>
</div>